<div class="overlay" *ngIf="!this.site; else main">
  <mat-spinner></mat-spinner>
</div>

<ng-template #main>
  <form [formGroup]="siteForm" (ngSubmit)="onSubmit(siteForm.value)">
    <mat-card>
      <div class="example-container">
        <mat-form-field>
          <input
            matInput
            type="text"
            placeholder="title"
            formControlName="title"
            id="title"
            required
          />
          <mat-error *ngIf="hasError('title', 'required')"
            >title is required</mat-error
          >
        </mat-form-field>
        <mat-form-field>
          <textarea
            matInput
            type="text"
            placeholder="description"
            formControlName="description"
            id="description"
          ></textarea>
        </mat-form-field>
        <mat-form-field>
          <mat-select
            placeholder="visibility"
            formControlName="visibility"
            required
          >
            <mat-option
              *ngFor="let item of visibilities | keyvalue"
              [value]="item.value"
            >
              {{ item.value }}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="hasError('visibility', 'required')"
            >visibility is required</mat-error
          >
        </mat-form-field>
        <mat-form-field>
          <mat-slide-toggle formControlName="isApprove">
            isApprove
          </mat-slide-toggle>
          <input matInput #value hidden />
        </mat-form-field>
      </div>
      <mat-card-actions>
        <button mat-button [disabled]="!siteForm.valid" type="submit">
          Submit
        </button>
      </mat-card-actions>
    </mat-card>
  </form>
</ng-template>
